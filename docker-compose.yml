version: '2'

services:
  mongo:  
    image: mvertes/alpine-mongo:3.2.3
    volumes:
      - /home/pawwik/dev/darkroom_go/mydatabase:/data/db
      - /hdd/temp/dark_temp/mydatabase:/darkroom_photos
    ports:
      - "27017:27017"
    command: mongod --smallfiles
    network_mode: "host"
    
  backend:
    network_mode: "host"
    ports:
      - "11001:11001"
    build:
      context: .
      dockerfile: Dockerfile-gobackend

  frontend:
    network_mode: "host"
    build:
      context: .
      dockerfile: Dockerfile-webui